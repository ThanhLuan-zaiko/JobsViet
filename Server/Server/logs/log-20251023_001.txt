2025-10-23 22:40:34.223 +07:00 [INF] User profile is available. Using 'C:\Users\Luan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-23 22:40:34.503 +07:00 [ERR] Hosting failed to start
System.IO.IOException: Failed to bind to address http://127.0.0.1:5174: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-10-23 22:41:00.646 +07:00 [INF] User profile is available. Using 'C:\Users\Luan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-10-23 22:41:00.888 +07:00 [INF] Now listening on: http://localhost:5174
2025-10-23 22:41:00.952 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-23 22:41:00.953 +07:00 [INF] Hosting environment: Development
2025-10-23 22:41:00.955 +07:00 [INF] Content root path: D:\hoctap\React\JobsViet\Server\Server
2025-10-23 22:41:30.436 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5174/api/v1.0/jobs?page=1&pageSize=10 - null null
2025-10-23 22:41:30.436 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5174/api/v1.0/auth/me - null null
2025-10-23 22:41:30.466 +07:00 [WRN] Failed to determine the https port for redirect.
2025-10-23 22:41:30.560 +07:00 [INF] CORS policy execution successful.
2025-10-23 22:41:30.560 +07:00 [INF] CORS policy execution successful.
2025-10-23 22:41:30.591 +07:00 [INF] Incoming request: GET /api/v1.0/jobs
2025-10-23 22:41:30.591 +07:00 [INF] Incoming request: GET /api/v1.0/auth/me
2025-10-23 22:41:30.594 +07:00 [INF] Executing endpoint 'Server.Controllers.Jobs.JobsController.GetJobs (Server)'
2025-10-23 22:41:30.594 +07:00 [INF] Auth request: GET /api/v1.0/auth/me from ::1
2025-10-23 22:41:30.596 +07:00 [INF] Executing endpoint 'Server.Controllers.AuthController.GetCurrentUser (Server)'
2025-10-23 22:41:30.606 +07:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCurrentUser() on controller Server.Controllers.AuthController (Server).
2025-10-23 22:41:30.607 +07:00 [INF] Route matched with {action = "GetJobs", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJobs(Server.DTOs.Jobs.JobQueryDto) on controller Server.Controllers.Jobs.JobsController (Server).
2025-10-23 22:41:30.742 +07:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-23 22:41:30.762 +07:00 [INF] Executed action Server.Controllers.AuthController.GetCurrentUser (Server) in 152.234ms
2025-10-23 22:41:30.763 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5174/api/v1.0/auth/me - null null
2025-10-23 22:41:30.767 +07:00 [INF] Executed endpoint 'Server.Controllers.AuthController.GetCurrentUser (Server)'
2025-10-23 22:41:30.771 +07:00 [INF] Request completed: GET /api/v1.0/auth/me - Status: 401 - Duration: 180ms
2025-10-23 22:41:30.774 +07:00 [INF] CORS policy execution successful.
2025-10-23 22:41:30.778 +07:00 [INF] Incoming request: GET /api/v1.0/auth/me
2025-10-23 22:41:30.780 +07:00 [INF] Auth request: GET /api/v1.0/auth/me from ::1
2025-10-23 22:41:30.782 +07:00 [INF] Executing endpoint 'Server.Controllers.AuthController.GetCurrentUser (Server)'
2025-10-23 22:41:30.783 +07:00 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetCurrentUser() on controller Server.Controllers.AuthController (Server).
2025-10-23 22:41:30.783 +07:00 [INF] HTTP GET /api/v1.0/auth/me responded 401 in 224.5230 ms
2025-10-23 22:41:30.786 +07:00 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-23 22:41:30.789 +07:00 [INF] Executed action Server.Controllers.AuthController.GetCurrentUser (Server) in 4.121ms
2025-10-23 22:41:30.791 +07:00 [INF] Executed endpoint 'Server.Controllers.AuthController.GetCurrentUser (Server)'
2025-10-23 22:41:30.792 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5174/api/v1.0/auth/me - 401 null application/json; charset=utf-8 359.8121ms
2025-10-23 22:41:30.792 +07:00 [INF] Request completed: GET /api/v1.0/auth/me - Status: 401 - Duration: 13ms
2025-10-23 22:41:30.797 +07:00 [INF] HTTP GET /api/v1.0/auth/me responded 401 in 23.5044 ms
2025-10-23 22:41:30.798 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5174/api/v1.0/auth/me - 401 null application/json; charset=utf-8 35.5798ms
2025-10-23 22:41:30.849 +07:00 [INF] Fetching jobs from database for query: {"Page":1,"PageSize":10,"Search":null,"Category":null,"$type":"JobQueryDto"}
2025-10-23 22:41:32.725 +07:00 [INF] Executed DbCommand (148ms) [Parameters=[], CommandType='"Text"', CommandTimeout='0']
SELECT COUNT(*)
FROM "JOBS" "j"
WHERE "j"."ISACTIVE" = 1
2025-10-23 22:41:32.876 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[:p_0='?' (DbType = Int32), :p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='0']
SELECT "j"."JOBID", "j"."CATEGORYID", "j"."COMPANYID", "j"."CREATEDAT", "j"."DEADLINEDATE", "j"."DESCRIPTION", "j"."EMPLOYERPROFILEID", "j"."EMPLOYMENTTYPE", "j"."GENDERPREFERENCE", "j"."HIRINGSTATUS", "j"."ISACTIVE", "j"."JOBGUID", "j"."MAXAGE", "j"."MINAGE", "j"."POSITIONSFILLED", "j"."POSITIONSNEEDED", "j"."POSTEDBYUSERID", "j"."REQUIREDDEGREE", "j"."REQUIREDEXPERIENCEYEARS", "j"."SALARYFROM", "j"."SALARYTO", "j"."SKILLSREQUIRED", "j"."TITLE"
FROM "JOBS" "j"
WHERE "j"."ISACTIVE" = 1
ORDER BY "j"."CREATEDAT" DESC, "j"."JOBID"
OFFSET :p_0 ROWS FETCH NEXT :p_1 ROWS ONLY
2025-10-23 22:41:32.904 +07:00 [INF] Executing OkObjectResult, writing value of type 'Server.Services.Jobs.PaginatedResult`1[[Server.DTOs.Jobs.JobDto, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 22:41:32.934 +07:00 [INF] Executed action Server.Controllers.Jobs.JobsController.GetJobs (Server) in 2325.5856ms
2025-10-23 22:41:32.936 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5174/api/v1.0/jobs?page=1&pageSize=10 - null null
2025-10-23 22:41:32.937 +07:00 [INF] Executed endpoint 'Server.Controllers.Jobs.JobsController.GetJobs (Server)'
2025-10-23 22:41:32.941 +07:00 [INF] CORS policy execution successful.
2025-10-23 22:41:32.942 +07:00 [INF] Request completed: GET /api/v1.0/jobs - Status: 200 - Duration: 2351ms
2025-10-23 22:41:32.944 +07:00 [INF] Incoming request: GET /api/v1.0/jobs
2025-10-23 22:41:32.945 +07:00 [INF] HTTP GET /api/v1.0/jobs responded 200 in 2388.0784 ms
2025-10-23 22:41:32.945 +07:00 [INF] Executing endpoint 'Server.Controllers.Jobs.JobsController.GetJobs (Server)'
2025-10-23 22:41:32.948 +07:00 [INF] Route matched with {action = "GetJobs", controller = "Jobs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetJobs(Server.DTOs.Jobs.JobQueryDto) on controller Server.Controllers.Jobs.JobsController (Server).
2025-10-23 22:41:32.950 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5174/api/v1.0/jobs?page=1&pageSize=10 - 200 null application/json; charset=utf-8 2518.6348ms
2025-10-23 22:41:32.952 +07:00 [INF] Returning cached jobs for key: jobs_1_10__
2025-10-23 22:41:32.955 +07:00 [INF] Executing OkObjectResult, writing value of type 'Server.Services.Jobs.PaginatedResult`1[[Server.DTOs.Jobs.JobDto, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 22:41:32.957 +07:00 [INF] Executed action Server.Controllers.Jobs.JobsController.GetJobs (Server) in 6.8503ms
2025-10-23 22:41:32.958 +07:00 [INF] Executed endpoint 'Server.Controllers.Jobs.JobsController.GetJobs (Server)'
2025-10-23 22:41:32.959 +07:00 [INF] Request completed: GET /api/v1.0/jobs - Status: 200 - Duration: 15ms
2025-10-23 22:41:32.963 +07:00 [INF] HTTP GET /api/v1.0/jobs responded 200 in 22.1417 ms
2025-10-23 22:41:32.965 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5174/api/v1.0/jobs?page=1&pageSize=10 - 200 null application/json; charset=utf-8 29.5126ms
2025-10-23 22:42:03.030 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5174/api/v1.0/auth/login - null null
2025-10-23 22:42:03.034 +07:00 [INF] CORS policy execution successful.
2025-10-23 22:42:03.035 +07:00 [INF] HTTP OPTIONS /api/v1.0/auth/login responded 204 in 1.3860 ms
2025-10-23 22:42:03.037 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5174/api/v1.0/auth/login - 204 null null 6.684ms
2025-10-23 22:42:03.038 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5174/api/v1.0/auth/login - application/json 52
2025-10-23 22:42:03.042 +07:00 [INF] CORS policy execution successful.
2025-10-23 22:42:03.044 +07:00 [INF] Incoming request: POST /api/v1.0/auth/login
2025-10-23 22:42:03.045 +07:00 [INF] Auth request: POST /api/v1.0/auth/login from ::1
2025-10-23 22:42:03.046 +07:00 [INF] Executing endpoint 'Server.Controllers.AuthController.Login (Server)'
2025-10-23 22:42:03.051 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Server.DTOs.Auth.LoginRequest) on controller Server.Controllers.AuthController (Server).
2025-10-23 22:42:03.135 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[:email_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='0']
SELECT "u"."USERID", "u"."CREATEDAT", "u"."EMAIL", "u"."ISACTIVE", "u"."PASSWORDHASH", "u"."ROLE", "u"."USERNAME"
FROM "USERS" "u"
WHERE (("u"."EMAIL" = :email_0) AND ("u"."ISACTIVE" <> False))
FETCH FIRST 1 ROWS ONLY
2025-10-23 22:42:03.195 +07:00 [INF] Session started; Key:ca112c56-1e31-1896-a962-1cc1e1ccd822, Id:e53adf93-bfb9-1440-2eb1-c991a93d6f45
2025-10-23 22:42:03.202 +07:00 [INF] Executing OkObjectResult, writing value of type 'Server.DTOs.Auth.AuthResponse'.
2025-10-23 22:42:03.208 +07:00 [INF] Executed action Server.Controllers.AuthController.Login (Server) in 155.7425ms
2025-10-23 22:42:03.209 +07:00 [INF] Executed endpoint 'Server.Controllers.AuthController.Login (Server)'
2025-10-23 22:42:03.210 +07:00 [WRN] Login attempt: POST /api/v1.0/auth/login from ::1 - Status: 200
2025-10-23 22:42:03.212 +07:00 [INF] Request completed: POST /api/v1.0/auth/login - Status: 200 - Duration: 167ms
2025-10-23 22:42:03.217 +07:00 [INF] HTTP POST /api/v1.0/auth/login responded 200 in 175.6779 ms
2025-10-23 22:42:03.220 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5174/api/v1.0/auth/login - 200 null application/json; charset=utf-8 181.361ms
2025-10-23 22:42:06.676 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5174/api/v1.0/categories - null null
2025-10-23 22:42:06.681 +07:00 [INF] CORS policy execution successful.
2025-10-23 22:42:06.684 +07:00 [INF] Incoming request: GET /api/v1.0/categories
2025-10-23 22:42:06.686 +07:00 [INF] Executing endpoint 'Server.Controllers.Jobs.JobCategoryController.GetCategories (Server)'
2025-10-23 22:42:06.696 +07:00 [INF] Route matched with {action = "GetCategories", controller = "JobCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller Server.Controllers.Jobs.JobCategoryController (Server).
2025-10-23 22:42:06.701 +07:00 [INF] Fetching active job categories
2025-10-23 22:42:06.757 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='0']
SELECT "j"."CATEGORYID", "j"."CREATEDAT", "j"."DESCRIPTION", "j"."ISACTIVE", "j"."NAME"
FROM "JOBCATEGORIES" "j"
WHERE "j"."ISACTIVE" = 1
ORDER BY "j"."NAME"
2025-10-23 22:42:06.771 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Server.DTOs.Jobs.JobCategoryDto, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 22:42:06.774 +07:00 [INF] Executed action Server.Controllers.Jobs.JobCategoryController.GetCategories (Server) in 75.8415ms
2025-10-23 22:42:06.776 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5174/api/v1.0/categories - null null
2025-10-23 22:42:06.776 +07:00 [INF] Executed endpoint 'Server.Controllers.Jobs.JobCategoryController.GetCategories (Server)'
2025-10-23 22:42:06.778 +07:00 [INF] CORS policy execution successful.
2025-10-23 22:42:06.779 +07:00 [INF] Request completed: GET /api/v1.0/categories - Status: 200 - Duration: 94ms
2025-10-23 22:42:06.781 +07:00 [INF] Incoming request: GET /api/v1.0/categories
2025-10-23 22:42:06.782 +07:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 100.8143 ms
2025-10-23 22:42:06.782 +07:00 [INF] Executing endpoint 'Server.Controllers.Jobs.JobCategoryController.GetCategories (Server)'
2025-10-23 22:42:06.783 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5174/api/v1.0/categories - 200 null application/json; charset=utf-8 107.0911ms
2025-10-23 22:42:06.784 +07:00 [INF] Route matched with {action = "GetCategories", controller = "JobCategory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCategories() on controller Server.Controllers.Jobs.JobCategoryController (Server).
2025-10-23 22:42:06.788 +07:00 [INF] Fetching active job categories
2025-10-23 22:42:06.797 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='0']
SELECT "j"."CATEGORYID", "j"."CREATEDAT", "j"."DESCRIPTION", "j"."ISACTIVE", "j"."NAME"
FROM "JOBCATEGORIES" "j"
WHERE "j"."ISACTIVE" = 1
ORDER BY "j"."NAME"
2025-10-23 22:42:06.799 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Server.DTOs.Jobs.JobCategoryDto, Server, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-10-23 22:42:06.801 +07:00 [INF] Executed action Server.Controllers.Jobs.JobCategoryController.GetCategories (Server) in 12.9053ms
2025-10-23 22:42:06.802 +07:00 [INF] Executed endpoint 'Server.Controllers.Jobs.JobCategoryController.GetCategories (Server)'
2025-10-23 22:42:06.803 +07:00 [INF] Request completed: GET /api/v1.0/categories - Status: 200 - Duration: 22ms
2025-10-23 22:42:06.805 +07:00 [INF] HTTP GET /api/v1.0/categories responded 200 in 27.1228 ms
2025-10-23 22:42:06.807 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5174/api/v1.0/categories - 200 null application/json; charset=utf-8 31.208ms
2025-10-23 22:42:59.531 +07:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5174/api/v1.0/jobs - null null
2025-10-23 22:42:59.535 +07:00 [INF] CORS policy execution successful.
2025-10-23 22:42:59.535 +07:00 [INF] HTTP OPTIONS /api/v1.0/jobs responded 204 in 0.8830 ms
2025-10-23 22:42:59.537 +07:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5174/api/v1.0/jobs - 204 null null 6.5386ms
2025-10-23 22:42:59.538 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5174/api/v1.0/jobs - application/json 405
2025-10-23 22:42:59.542 +07:00 [INF] CORS policy execution successful.
2025-10-23 22:42:59.546 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-10-23 22:42:59.549 +07:00 [INF] AuthenticationScheme: Cookies was challenged.
2025-10-23 22:42:59.550 +07:00 [INF] HTTP POST /api/v1.0/jobs responded 302 in 7.9227 ms
2025-10-23 22:42:59.551 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5174/api/v1.0/jobs - 302 0 null 12.8249ms
2025-10-23 22:42:59.554 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5174/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2Fjobs - null null
2025-10-23 22:42:59.556 +07:00 [INF] CORS policy execution successful.
2025-10-23 22:42:59.559 +07:00 [INF] Incoming request: GET /auth/login
2025-10-23 22:42:59.560 +07:00 [INF] Request completed: GET /auth/login - Status: 404 - Duration: 0ms
2025-10-23 22:42:59.563 +07:00 [INF] HTTP GET /auth/login responded 404 in 6.7371 ms
2025-10-23 22:42:59.564 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5174/auth/login?ReturnUrl=%2Fapi%2Fv1.0%2Fjobs - 404 0 null 10.8462ms
2025-10-23 22:42:59.568 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5174/auth/login, Response status code: 404
